<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Stories</title>
  <link rel="stylesheet" href="/CSS/User_Stories.css" />
</head>
<body>
  <header class="site-header">
    <h1>Student Stories</h1>
    <p>Share your experience studying in school with a photo, caption, hashtags, mood, and location.</p>
  </header>

  <main class="wrap">
    <!-- CREATE POST -->
    <section class="card">
      <h2>Create a Post</h2>

      <form id="postForm" class="form">
        <label for="name">Your name (optional)</label>
        <input id="name" type="text" placeholder="e.g., Alex" maxlength="40" />

        <label for="title">Post title</label>
        <input id="title" type="text" placeholder="e.g., My first project showcase!" maxlength="80" required />

        <label for="caption">Caption</label>
        <textarea id="caption" placeholder="Share what happened, what you learned, and how you felt..." maxlength="600" required></textarea>
        <div class="hint">Max 600 characters.</div>

        <div class="grid-2">
          <div>
            <label for="category">Category</label>
            <select id="category">
              <option value="General">General</option>
              <option>Academics</option>
              <option>Internship</option>
              <option>CCA</option>
              <option>Friends</option>
              <option>Stress / Challenges</option>
            </select>
          </div>

          <div>
            <label for="mood">Mood</label>
            <select id="mood">
              <option value="üòä">üòä Happy</option>
              <option value="üòê">üòê Neutral</option>
              <option value="üò´">üò´ Stressful</option>
              <option value="üòÑ">üòÑ Fun</option>
            </select>
          </div>
        </div>

        <!-- NEW: SCHOOL (optional) -->
        <label for="school">School (optional)</label>
        <select id="school">
          <option value="">Not specified</option>
          <option>ICT</option>
          <option>BA</option>
          <option>HS</option>
          <option>Engineering</option>
          <option>Media</option>
        </select>

        <label for="location">Location in school (map tag)</label>
        <select id="location">
          <option value="">Not specified</option>
          <option>Library</option>
          <option>ICT Lab</option>
          <option>Canteen</option>
          <option>Auditorium</option>
          <option>Classroom</option>
          <option>Sports Hall</option>
        </select>

        <label for="hashtags">Hashtags</label>
        <input id="hashtags" type="text" placeholder="#np #studentlife #projects" />
        <div class="hint">Separate tags with spaces. Example: <b>#np #ict #internship</b></div>

        <label for="image">Picture</label>
        <input id="image" type="file" accept="image/*" />

        <div class="preview" id="preview">
          <span class="hint">Image preview will appear here</span>
        </div>

        <label class="checkbox">
          <input type="checkbox" id="anonymous" />
          Post anonymously
        </label>

        <button class="btn" type="submit">Post</button>
        <button class="btn btn-secondary" type="button" id="clearBtn">Clear Form</button>
      </form>

      <p class="note">
        Demo version: Posts are saved in your browser only (localStorage), not a real database.
      </p>
    </section>

    <!-- FEED -->
    <section class="card">
      <div class="feed-head">
        <h2>Stories Feed</h2>
        <button class="small-btn" id="clearAllBtn" title="Deletes all posts">Clear All</button>
      </div>

      <div class="filters">
        <input class="search" id="search" placeholder="Search by title, caption, name, category, school, location, or #hashtag..." />
        <button class="small-btn" id="clearSearchBtn" type="button">Clear</button>
      </div>

      <!-- CATEGORY FILTERS -->
      <div class="filter-group">
        <div class="filter-head">
          <h4>Filter by Category</h4>
          <button class="tiny-btn" id="resetCategoryFilters" type="button">Reset</button>
        </div>

        <div class="filter-options" id="categoryFilters">
          <button class="filter-chip" data-filter="category" data-value="All" aria-pressed="true">
            <span class="label">All</span><span class="count" data-count="All"></span>
          </button>

          <button class="filter-chip" data-filter="category" data-value="General" aria-pressed="false">
            <span class="label">General</span><span class="count" data-count="General"></span>
          </button>
          <button class="filter-chip" data-filter="category" data-value="Academics" aria-pressed="false">
            <span class="label">Academics</span><span class="count" data-count="Academics"></span>
          </button>
          <button class="filter-chip" data-filter="category" data-value="Internship" aria-pressed="false">
            <span class="label">Internship</span><span class="count" data-count="Internship"></span>
          </button>
          <button class="filter-chip" data-filter="category" data-value="CCA" aria-pressed="false">
            <span class="label">CCA</span><span class="count" data-count="CCA"></span>
          </button>
          <button class="filter-chip" data-filter="category" data-value="Friends" aria-pressed="false">
            <span class="label">Friends</span><span class="count" data-count="Friends"></span>
          </button>
          <button class="filter-chip" data-filter="category" data-value="Stress / Challenges" aria-pressed="false">
            <span class="label">Stress / Challenges</span><span class="count" data-count="Stress / Challenges"></span>
          </button>
        </div>

        <div class="hint">Tip: You can select multiple categories.</div>
      </div>

      <!-- SCHOOL FILTERS (NEW) -->
      <div class="filter-group">
        <div class="filter-head">
          <h4>Filter by School</h4>
          <button class="tiny-btn" id="resetSchoolFilters" type="button">Reset</button>
        </div>

        <div class="filter-options" id="schoolFilters">
          <button class="filter-chip" data-filter="school" data-value="All" aria-pressed="true">
            <span class="label">All</span><span class="count" data-scount="All"></span>
          </button>

          <button class="filter-chip" data-filter="school" data-value="Not specified" aria-pressed="false">
            <span class="label">Not specified</span><span class="count" data-scount="Not specified"></span>
          </button>

          <button class="filter-chip" data-filter="school" data-value="ICT" aria-pressed="false">
            <span class="label">ICT</span><span class="count" data-scount="ICT"></span>
          </button>

          <button class="filter-chip" data-filter="school" data-value="BA" aria-pressed="false">
            <span class="label">BA</span><span class="count" data-scount="BA"></span>
          </button>

          <button class="filter-chip" data-filter="school" data-value="HS" aria-pressed="false">
            <span class="label">HS</span><span class="count" data-scount="HS"></span>
          </button>

          <button class="filter-chip" data-filter="school" data-value="Engineering" aria-pressed="false">
            <span class="label">Engineering</span><span class="count" data-scount="Engineering"></span>
          </button>

          <button class="filter-chip" data-filter="school" data-value="Media" aria-pressed="false">
            <span class="label">Media</span><span class="count" data-scount="Media"></span>
          </button>
        </div>

        <div class="hint">Tip: You can select multiple schools.</div>
      </div>

      <!-- LOCATION FILTERS -->
      <div class="filter-group">
        <div class="filter-head">
          <h4>Filter by Location</h4>
          <button class="tiny-btn" id="resetLocationFilters" type="button">Reset</button>
        </div>

        <div class="filter-options" id="locationFilters">
          <button class="filter-chip" data-filter="location" data-value="All" aria-pressed="true">
            <span class="label">All</span><span class="count" data-lcount="All"></span>
          </button>

          <button class="filter-chip" data-filter="location" data-value="Not specified" aria-pressed="false">
            <span class="label">Not specified</span><span class="count" data-lcount="Not specified"></span>
          </button>
          <button class="filter-chip" data-filter="location" data-value="Library" aria-pressed="false">
            <span class="label">Library</span><span class="count" data-lcount="Library"></span>
          </button>
          <button class="filter-chip" data-filter="location" data-value="ICT Lab" aria-pressed="false">
            <span class="label">ICT Lab</span><span class="count" data-lcount="ICT Lab"></span>
          </button>
          <button class="filter-chip" data-filter="location" data-value="Canteen" aria-pressed="false">
            <span class="label">Canteen</span><span class="count" data-lcount="Canteen"></span>
          </button>
          <button class="filter-chip" data-filter="location" data-value="Auditorium" aria-pressed="false">
            <span class="label">Auditorium</span><span class="count" data-lcount="Auditorium"></span>
          </button>
          <button class="filter-chip" data-filter="location" data-value="Classroom" aria-pressed="false">
            <span class="label">Classroom</span><span class="count" data-lcount="Classroom"></span>
          </button>
          <button class="filter-chip" data-filter="location" data-value="Sports Hall" aria-pressed="false">
            <span class="label">Sports Hall</span><span class="count" data-lcount="Sports Hall"></span>
          </button>
        </div>

        <div class="hint">Tip: You can select multiple locations.</div>
      </div>

      <!-- POSTS (SCROLLABLE) -->
      <div class="posts scrollable" id="posts"></div>

      <div class="empty" id="emptyState" style="display:none;">
        No posts match your search/filters.
      </div>
    </section>
  </main>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lightbox hidden" aria-hidden="true">
    <div class="lightbox-inner" role="dialog" aria-label="Image preview">
      <img id="lightboxImg" alt="Expanded post image" />
      <button id="lightboxClose" class="lightbox-close" aria-label="Close image">‚úï</button>
    </div>
  </div>

  <script src="/JavaScript/User_Stories.js"></script>
</body>
</html>
